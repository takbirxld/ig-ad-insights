<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amena Instagram Ads Insights</title>
<meta name="description" content="Lean, brand-ready Instagram ad performance snapshot under 14kb.">
<style>
  :root{--bg:#0c1220;--panel:#121a2c;--card:#18243a;--accent:#7be4c8;--muted:#9fb1cc;--text:#eef1f9;--border:rgba(255,255,255,.06);}
  *{box-sizing:border-box;}
  body{margin:0;font-family:"Inter","Segoe UI",system-ui,sans-serif;background:radial-gradient(circle at 20% 20%,rgba(123,228,200,.12),transparent 32%),radial-gradient(circle at 80% 10%,rgba(96,169,255,.14),transparent 28%),var(--bg);color:var(--text);}
  .page{max-width:960px;padding:22px 18px 40px;margin:0 auto;}
  .card{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:18px;box-shadow:0 12px 26px rgba(0,0,0,.28);}
  .hero{display:grid;gap:14px;margin-bottom:16px;}
  .eyebrow{text-transform:uppercase;letter-spacing:.12em;font-size:12px;color:var(--muted);margin:0 0 6px;}
  h1{margin:0 0 8px;font-size:28px;letter-spacing:-.02em;}
  h2{margin:0;font-size:20px;}
  .lede{margin:0 0 10px;color:var(--muted);line-height:1.5;}
  .chips{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0;}
  .chip{padding:6px 10px;border-radius:999px;border:1px solid var(--border);font-size:12px;background:rgba(255,255,255,.05);}
  .chip.muted{color:var(--muted);}
  .cta{display:inline-block;margin-top:8px;padding:10px 14px;border-radius:10px;background:linear-gradient(120deg,#7be4c8,#7ab9ff);color:#0b1724;font-weight:700;text-decoration:none;}
  .section-head{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px;}
  .stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;}
  .stat{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:12px;}
  .stat p{margin:0;color:var(--muted);font-size:12px;}
  .stat strong{display:block;font-size:22px;margin-top:4px;letter-spacing:-.01em;}
  .hero-stats .stat{background:rgba(255,255,255,.04);}
  .posts{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;}
  .post{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:12px;display:grid;gap:8px;}
  .thumb{position:relative;width:100%;aspect-ratio:4/5;border-radius:10px;overflow:hidden;background:linear-gradient(135deg,rgba(123,228,200,.16),rgba(122,185,255,.16));border:1px solid var(--border);}
  .thumb img{width:100%;height:100%;object-fit:cover;display:block;}
  .thumb.placeholder{display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:12px;}
  .post h3{margin:0;font-size:16px;}
  .post .meta{display:flex;gap:8px;flex-wrap:wrap;color:var(--muted);font-size:12px;}
  .badge{padding:4px 8px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.06);}
  .caption{margin:0;color:var(--muted);line-height:1.4;font-size:14px;}
  .error{margin-top:8px;padding:10px;border-radius:10px;border:1px solid rgba(255,90,90,.4);background:rgba(255,90,90,.08);color:#ffb3b3;}
  .muted{color:var(--muted);}
  .hero-visual{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px;margin-top:10px;}
  .hero-shot{border-radius:12px;border:1px solid var(--border);background:linear-gradient(135deg,rgba(123,228,200,.18),rgba(122,185,255,.16));aspect-ratio:4/5;overflow:hidden;box-shadow:0 10px 24px rgba(0,0,0,.24);background-size:cover;background-position:center;}
  @media(max-width:640px){.page{padding:18px 14px;}.card{padding:16px;}}
  </style>
</head>
<body>
  <script id="inline-insights" type="application/json">{"generated_at":"2025-11-21T04:08:45.497679758Z","hashtag":"amena_ad_insights","sample_data":true,"totals":{"total_posts":10,"total_likes":7040,"total_comments":377,"total_interactions":7417,"total_views":156110,"avg_interactions":741.7,"median_interactions":718},"hero_images":["pic1.jpg","pic2.jpg","pic3.jpg"],"posts":[{"id":"47910001","permalink":"https://instagram.com/p/ad_insight_1","media_type":"REEL","caption":"Day-in-the-life featuring the Lumina bottle drop. High retention throughout the 30s spot.","media_url":"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format\u0026fit=crop\u0026w=800\u0026q=60","likes":1240,"comments":88,"views":45210,"timestamp":"2025-10-18T04:08:45Z","interactions":1328},{"id":"47910002","permalink":"https://instagram.com/p/ad_insight_2","media_type":"CAROUSEL_ALBUM","caption":"Before/after carousel with CTA to shop the new serum. Saved 3.4k times.","media_url":"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?auto=format\u0026fit=crop\u0026w=800\u0026q=60","likes":980,"comments":67,"timestamp":"2025-10-12T04:08:45Z","interactions":1047},{"id":"47910003","permalink":"https://instagram.com/p/ad_insight_3","media_type":"IMAGE","caption":"Launch partner post for the Orbit earbuds with lifestyle positioning.","media_url":"https://images.unsplash.com/photo-1515377905703-c4788e51af15?auto=format\u0026fit=crop\u0026w=800\u0026q=60","likes":820,"comments":55,"timestamp":"2025-09-19T04:08:45Z","interactions":875},{"id":"47910004","permalink":"https://instagram.com/p/ad_insight_4","media_type":"REEL","caption":"UGC-style reel showcasing easy setup. 12% click-through on link in bio.","media_url":"https://images.unsplash.com/photo-1462396881884-de2c07cb95ed?auto=format\u0026fit=crop\u0026w=800\u0026q=60","likes":760,"comments":40,"views":38900,"timestamp":"2025-09-05T04:08:45Z","interactions":800},{"id":"47910005","permalink":"https://instagram.com/p/ad_insight_5","media_type":"IMAGE","caption":"In-feed testimonial pull-quote for the Revive mask.","media_url":"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format\u0026fit=crop\u0026w=800\u0026q=60","likes":690,"comments":28,"timestamp":"2025-08-17T04:08:45Z","interactions":718},{"id":"47910006","permalink":"https://instagram.com/p/ad_insight_6","media_type":"REEL","caption":"Trend-jack audio with product integration and overlaid CTAs.","media_url":"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format\u0026fit=crop\u0026w=800\u0026q=60","likes":580,"comments":22,"views":31050,"timestamp":"2025-08-03T04:08:45Z","interactions":602}]}</script>
  <div class="page">
    <header class="card hero">
      <div>
        <p class="eyebrow">Instagram campaign proof</p>
        <h1>Ad insights for brands</h1>
        <p class="lede">Concise results pulled from hashtagged placements. Optimized to load under 14kb while keeping the story clear.</p>
        <div class="chips">
          <span class="chip" id="hashtag">#campaign</span>
          <span class="chip muted" id="updated">Updated --</span>
          <span class="chip muted" id="mode">Loading...</span>
        </div>
        <a class="cta" href="mailto:hello@amena.media?subject=Instagram%20Ads%20Collab">Book a collaboration</a>
      </div>
      <div class="stats hero-stats">
        <div class="stat"><p>Interactions</p><strong data-value="interactions">--</strong></div>
        <div class="stat"><p>Video views</p><strong data-value="views">--</strong></div>
        <div class="stat"><p>Avg per post</p><strong data-value="avg">--</strong></div>
      </div>
      <div class="hero-visual">
        <div class="hero-shot" data-hero-img="0"></div>
        <div class="hero-shot" data-hero-img="1"></div>
        <div class="hero-shot" data-hero-img="2"></div>
      </div>
    </header>

    <section class="card">
      <div class="section-head">
        <div>
          <p class="eyebrow">KPI snapshot</p>
          <h2>Performance at a glance</h2>
        </div>
        <span class="chip" id="post-count">0 posts</span>
      </div>
      <div id="kpi-grid" class="stats"></div>
    </section>

    <section class="card">
      <div class="section-head">
        <div>
          <p class="eyebrow">Recent hashtag pulls</p>
          <h2>Campaign posts</h2>
        </div>
      </div>
      <div id="posts" class="posts"></div>
      <div id="error" class="error" hidden>Could not load insights. Confirm the data file exists.</div>
    </section>
  </div>
  <script type="module">
  const fmt=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1});
  const inlineData=parseInline();
  render(inlineData);
  fetch("data/insights-extra.json",{cache:"no-store"}).then((r)=>r.ok?r.json():Promise.reject(r.statusText)).then((extra)=>{const merged={...inlineData};merged.posts=[...(inlineData.posts||[]),...(extra.posts||[])];merged.totals=extra.totals||inlineData.totals;merged.sample_data=inlineData.sample_data||extra.sample_data;merged.hashtag=inlineData.hashtag||extra.hashtag;render(merged);}).catch(()=>{});
  function heroImages(posts, provided){const slots=document.querySelectorAll("[data-hero-img]");const sources=[...(Array.isArray(provided)?provided:[])];if(!sources.length){posts.forEach((p)=>{if(p.media_url)sources.push(p.media_url);});}sources.slice(0,slots.length).forEach((url,i)=>{const safe=safeURL(url);if(safe)slots[i].style.setProperty("background-image",`url('${safe}')`);});}
  function parseInline(){const el=document.getElementById("inline-insights");if(!el)return{};try{return JSON.parse(el.textContent||el.innerText||"{}");}catch{return{};}}
  function render(data){const t=data.totals||{};setText("#hashtag",`#${data.hashtag||"campaign"}`);setText("#updated",`Updated ${formatDate(data.generated_at)}`);setText("#mode",data.sample_data?"Sample data (connect IG to refresh)":"Live pull");setText('[data-value="interactions"]',fmt.format(t.total_interactions||0));setText('[data-value="views"]',fmt.format(t.total_views||0));setText('[data-value="avg"]',fmt.format(Math.round(t.avg_interactions||0)));renderKpi(t,data.hashtag);const posts=Array.isArray(data.posts)?data.posts:[];heroImages(posts,data.hero_images);renderPosts(posts);}
  function renderKpi(t,h){const metrics=[["Total interactions",t.total_interactions,"Likes + comments"],["Video views",t.total_views,"Reels + video"],["Posts analyzed",t.total_posts,`Using #${h||"campaign"}`],["Median interactions",t.median_interactions,"Balanced against spikes"]];const html=metrics.map(([label,value,hint])=>`<div class="stat"><p>${label}</p><strong>${fmt.format(value||0)}</strong><p>${hint}</p></div>`).join("");setHTML("#kpi-grid",html);setText("#post-count",`${t.total_posts||0} posts`);}
  function renderPosts(posts){if(!posts.length){setHTML("#posts",`<div class="chip muted">No posts yet. Run the fetcher.</div>`);return;}const max=posts.reduce((m,p)=>Math.max(m,interactions(p)),1);const html=posts.sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp)).map((p)=>{const pct=Math.max(12,Math.round(interactions(p)/max*100));const img=safeURL(p.media_url);const thumb=img?`<div class="thumb"><img src="${img}" alt="Post preview" loading="lazy"></div>`:`<div class="thumb placeholder">No preview</div>`;return `<article class="post">
        <div class="meta">
          <span class="badge">${mediaLabel(p.media_type)}</span>
          <span>${formatDate(p.timestamp)}</span>
        </div>
        ${thumb}
        <h3>${title(p.caption)}</h3>
        <p class="caption">${escapeHTML(p.caption||"Sponsored post")}</p>
        <div class="stats">
          ${tile("Interactions",interactions(p))}
          ${tile("Likes",p.likes)}
          ${tile("Comments",p.comments)}
          ${tile("Views",p.views)}
        </div>
        <a class="chip" href="${p.permalink||"#"}" target="_blank" rel="noreferrer">View on Instagram</a>
      </article>`;}).join("");setHTML("#posts",html);}
  function tile(label,value){return `<div class="stat"><p>${label}</p><strong>${fmt.format(value||0)}</strong></div>`;}
  function interactions(p){return(p?.interactions??0)||(p?.likes||0)+(p?.comments||0);}
  function mediaLabel(t=""){return({REEL:"Reel",CAROUSEL_ALBUM:"Carousel",VIDEO:"Video",IMAGE:"Image"}[t]||"Post");}
  function safeURL(u=""){if(u.startsWith("http://")||u.startsWith("https://"))return u;if(u.startsWith("/")||u.startsWith(".")||!u.includes("://"))return u;return "";}
  function formatDate(v){const d=new Date(v||Date.now());return Number.isNaN(d.getTime())?"--":d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});}
  function title(c="Sponsored post"){const clean=c.trim();return clean.length<=70?clean:`${clean.slice(0,67).split(" ").slice(0,-1).join(" ")||clean.slice(0,67)}...`;}
  function setText(sel,value){const el=document.querySelector(sel);if(el)el.textContent=value;}
  function setHTML(sel,value){const el=document.querySelector(sel);if(el)el.innerHTML=value;}
  function escapeHTML(str=""){return str.replace(/[&<>"]/g,(c)=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[c]));}
  function showError(msg){const el=document.getElementById("error");if(el){el.hidden=false;el.textContent=`Could not load insights: ${msg}`;}}
  </script>
</body>
</html>
